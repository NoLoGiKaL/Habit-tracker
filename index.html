<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü—Ä–∏–≤—ã—á–∫–∏ –ø–æ –¥–Ω—è–º –º–µ—Å—è—Ü–∞</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="page-shell">
    <!-- Header -->
    <header class="page-header">
      <div>
        <h1>–ü—Ä–∏–≤—ã—á–∫–∏ –ø–æ –¥–Ω—è–º –º–µ—Å—è—Ü–∞</h1>
        <p>–û—Ç–º–µ—á–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –ø–æ —Ü–µ–ª—è–º.</p>
      </div>

      <div class="header-controls">
        <div class="select-group">
          <select id="yearSelect"></select>
          <select id="monthSelect"></select>
        </div>

        <div class="actions-wrapper">
          <button id="actionBtn" class="btn btn--primary">–î–µ–π—Å—Ç–≤–∏—è</button>
          <div id="actionMenu" class="action-menu hidden">
            <button id="addHabitBtn" class="action-menu-item">+ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</button>
            <button id="deleteHabitBtn" class="action-menu-item">üóë –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</button>
            <button id="dailyHoursBtn" class="action-menu-item">‚è∞ –ò–∑–º–µ–Ω–∏—Ç—å —á–∞—Å—ã –≤ –¥–µ–Ω—å</button>
            <button id="closeMenuBtn" class="action-menu-item hidden">–ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é</button>
          </div>
        </div>
      </div>
    </header>

    <!-- Table -->
    <div class="table-wrapper">
      <div class="tracker-card-elevated tracker-full-width">
        <table class="habits-table">
          <thead id="tableHead"></thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- ===== MODALS ===== -->

  <!-- Day Modal -->
  <div id="dayModalOverlay" class="modal-overlay" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">–û—Ç–º–µ—Ç–∫–∞ –¥–Ω—è</h2>
        <button id="closeModalBtn" class="modal-close-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      </div>

      <div class="modal-body">
        <div class="form-group">
          <label>–ü—Ä–∏–≤—ã—á–∫–∞:</label>
          <input type="text" id="dayHabitName" readonly class="form-control">
        </div>

        <div class="form-group">
          <label>–î–∞—Ç–∞:</label>
          <input type="text" id="dayDate" readonly class="form-control">
        </div>

        <div class="form-group">
          <label>–ò—Ç–æ–≥–æ –∑–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å:</label>
          <input type="text" id="daySummary" readonly class="form-control">
        </div>

        <div class="form-group">
          <label id="remainingLabel">–û—Å—Ç–∞–ª–æ—Å—å:</label>
          <input type="text" id="remainingHours" readonly class="form-control">
        </div>

        <div class="form-group">
          <label>–í—Ä–µ–º—è (—á–∞—Å—ã –∏ –º–∏–Ω—É—Ç—ã):</label>
          <div class="modal-row">
            <div>
              <label class="sub-label">–ß–∞—Å—ã:</label>
              <input type="number" id="timeHours" min="0" max="24" class="form-control">
            </div>
            <div>
              <label class="sub-label">–ú–∏–Ω—É—Ç—ã:</label>
              <input type="number" id="timeMinutes" min="0" max="59" class="form-control">
            </div>
          </div>
        </div>

        <div class="form-group">
          <label>–°–µ–∫—É–Ω–¥–æ–º–µ—Ä:</label>
          <div style="display: flex; gap: var(--space-8); align-items: center;">
            <input type="text" id="timerDisplay" value="00:00:00" readonly style="flex: 1; font-family: monospace; text-align: center;">
            <button id="timerStartBtn" class="btn btn--primary btn--sm">–°—Ç–∞—Ä—Ç</button>
            <button id="timerPauseBtn" class="btn btn--secondary btn--sm">–ü–∞—É–∑–∞</button>
            <button id="timerResetBtn" class="btn btn--secondary btn--sm">–°–±—Ä–æ—Å</button>
          </div>
        </div>

        <div class="form-group">
          <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</label>
          <textarea id="dayComment" class="form-control" rows="3"></textarea>
        </div>
      </div>

      <div class="modal-actions-row">
        <button id="openHistoryBtn" class="btn btn--secondary">–ò—Å—Ç–æ—Ä–∏—è</button>
        <button id="resetDayBtn" class="btn btn--secondary">–û–±–Ω—É–ª–∏—Ç—å –¥–µ–Ω—å</button>
        <div class="modal-actions-right">
          <button id="saveDayBtn" class="btn btn--primary">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- History Modal -->
  <div id="historyModalOverlay" class="modal-overlay" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏–≤—ã—á–∫–∏</h2>
        <button id="closeHistoryBtn" class="modal-close-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      </div>

      <div class="modal-body">
        <div id="historyContent"></div>
      </div>
    </div>
  </div>

  <!-- Add Habit Modal -->
  <div id="addHabitModalOverlay" class="modal-overlay" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</h2>
        <button id="closeAddHabitBtn" class="modal-close-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      </div>

      <div class="modal-body">
        <div class="form-group">
          <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏:</label>
          <input type="text" id="habitNameInput" class="form-control" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, –ë–µ–≥–∞—Ç—å">
        </div>

        <div class="form-group">
          <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–¥–ª—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–∞):</label>
          <div class="modal-row-3">
            <div>
              <label class="sub-label">–ú–µ—Å—è—Ü–µ–≤:</label>
              <input type="number" id="durationMonths" min="0" value="0" class="form-control">
            </div>
            <div>
              <label class="sub-label">–î–Ω–µ–π:</label>
              <input type="number" id="durationDays" min="0" value="0" class="form-control">
            </div>
            <div>
              <label class="sub-label">–ß–∞—Å–æ–≤:</label>
              <input type="number" id="durationHours" min="0" value="0" class="form-control">
            </div>
          </div>
        </div>

        <div class="form-group">
          <label>–¢–∏–ø —Ü–µ–ª–∏:</label>
          <select id="goalTypeSelect" class="form-control">
            <option value="daysPerWeek">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –≤ –Ω–µ–¥–µ–ª—é</option>
            <option value="daysTotal">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π</option>
            <option value="hoursTotal">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤</option>
            <option value="hoursPerDay">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å</option>
          </select>
        </div>

        <div class="form-group">
          <label>–ó–Ω–∞—á–µ–Ω–∏–µ —Ü–µ–ª–∏:</label>
          <input type="number" id="goalValueInput" min="0" step="0.5" class="form-control">
        </div>

        <div class="form-group">
          <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø—Ä–∏–≤—ã—á–∫–µ:</label>
          <textarea id="habitCommentInput" class="form-control" rows="2"></textarea>
        </div>
      </div>

      <div class="modal-actions-right">
        <button id="cancelAddHabitBtn" class="btn btn--secondary">–û—Ç–º–µ–Ω–∏—Ç—å</button>
        <button id="createHabitBtn" class="btn btn--primary">–°–æ–∑–¥–∞—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- Edit Habit Modal -->
  <div id="editHabitModalOverlay" class="modal-overlay" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</h2>
        <button id="closeEditHabitBtn" class="modal-close-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      </div>

      <div class="modal-body">
        <div class="form-group">
          <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏:</label>
          <input type="text" id="editHabitNameInput" class="form-control">
        </div>
      </div>

      <div class="modal-actions-right">
	<button id="deleteHabitFromEditBtn" class="btn btn--secondary">–£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</button>
        <button id="cancelEditHabitBtn" class="btn btn--secondary">–û—Ç–º–µ–Ω–∏—Ç—å</button>
        <button id="saveHabitEditBtn" class="btn btn--primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- Delete Habit Modal -->
  <div id="deleteHabitModalOverlay" class="modal-overlay" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏</h2>
        <button id="closeDeleteHabitBtn" class="modal-close-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      </div>

      <div class="modal-body">
        <div class="form-group">
          <label>–ü–æ–∏—Å–∫ –ø—Ä–∏–≤—ã—á–∫–∏:</label>
          <input type="text" id="deleteHabitSearchInput" class="form-control" placeholder="–≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏">
        </div>

        <div id="deleteHabitInfo" style="margin-bottom: var(--space-16); padding: var(--space-12); background: var(--color-secondary); border-radius: var(--radius-base);"></div>
      </div>

      <div class="modal-actions-right">
        <button id="cancelDeleteHabitBtn" class="btn btn--secondary">–û—Ç–º–µ–Ω–∏—Ç—å</button>
        <button id="confirmDeleteHabitBtn" class="btn btn--primary">–£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</button>
      </div>
    </div>
  </div>

  <!-- Daily Hours Modal -->
  <div id="dailyHoursModalOverlay" class="modal-overlay" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">–ò–∑–º–µ–Ω–∏—Ç—å —á–∞—Å—ã –≤ –¥–µ–Ω—å</h2>
        <button id="closeDailyHoursBtn" class="modal-close-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      </div>

      <div class="modal-body">
        <div class="form-group">
          <label>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã –≤ –¥–µ–Ω—å:</label>
          <input type="number" id="dailyHoursInput" min="0" step="0.5" class="form-control">
        </div>
      </div>

      <div class="modal-actions-right">
        <button id="cancelDailyHoursBtn" class="btn btn--secondary">–û—Ç–º–µ–Ω–∏—Ç—å</button>
        <button id="saveDailyHoursBtn" class="btn btn--primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
